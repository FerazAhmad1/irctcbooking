{"version":3,"file":"auth.js","sourceRoot":"/","sources":["v1/routes/auth.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,+CAAkH;AAClH,gDAAoD;AACpD,gDAAgH;AAChH,gDAA2D;AAE3D,MAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAChC,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;AACxC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,sBAAa,CAAC,+BAAsB,CAAC,EAAE,kBAAU,CAAC,CAAC;AAC1E,MAAM,CAAC,IAAI,CAAC,YAAY,EAAE,sBAAa,CAAC,qBAAY,CAAC,EAAE,kBAAU,CAAC,CAAC;AACnE,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,sBAAa,CAAC,qBAAY,CAAC,EAAE,aAAK,CAAC,CAAC;AAC1D,MAAM,CAAC,IAAI,CAAC,eAAe,EAAE,gBAAO,EAAE,oBAAW,CAAC,MAAM,CAAC,EAAE,mBAAW,CAAC,CAAC;AACxE,MAAM,CAAC,IAAI,CAAC,iBAAiB,EAAE,sBAAa,CAAC,+BAAsB,CAAC,EAAE,uBAAe,CAAC,CAAC;AACvF,MAAM,CAAC,IAAI,CAAC,uBAAuB,EAAE,sBAAa,CAAC,8BAAqB,CAAC,EAAE,sBAAc,CAAC,CAAC;AAC3F,kBAAe,MAAM,CAAC","sourcesContent":["import express from \"express\";\nimport { signup_otp, login, update_role, forgot_password, reset_password, verify_otp } from \"../controller/users\";\nimport { validate_body } from \"../helper.ts/helpfn\";\nimport { signupSchema, forgot_password_schema, reset_password_schema, login_schema } from \"../helper.ts/schema\";\nimport { protect, restrict_to } from \"../helper.ts/helpfn\";\n\nconst router = express.Router();\nconsole.log(\"I am auth router running\");\nrouter.post(\"/signup\", validate_body(forgot_password_schema), signup_otp);\nrouter.post(\"/verifyotp\", validate_body(signupSchema), verify_otp);\nrouter.post(\"/login\", validate_body(login_schema), login);\nrouter.post(\"/approoverole\", protect, restrict_to(\"user\"), update_role);\nrouter.post(\"/forgotpassword\", validate_body(forgot_password_schema), forgot_password);\nrouter.post(\"/resetpassword/:token\", validate_body(reset_password_schema), reset_password);\nexport default router;\n"]}